<!DOCTYPE html>


<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>QAELK &mdash; slides</title>
    
    <link rel="stylesheet" href="static/basic.css" type="text/css" />
    <link rel="stylesheet" href="static/styles.css" type="text/css" />
    <link rel="stylesheet" href="static/single.css" type="text/css" />
    
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2015.07.01',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="static/common.js"></script>
    
    <script type="text/javascript" src="static/slides.js"></script>
    <script type="text/javascript" src="static/sync.js"></script>
    <script type="text/javascript" src="static/controller.js"></script>
    <script type="text/javascript" src="static/init.js"></script>
    
    
    <link rel="top" title="slides" href="index.html" />
    <link rel="next" title="Sass: What it is, how it&#39;s used, and why it&#39;s so Syntactically Awesome" href="sass.html" />
    <link rel="prev" title="Your Roots Are Showing" href="polynomials.html" /> 
  </head>
  <body>

<section
   id="slide_container"
   class='slides layout-regular'>


  
<article class="slide level-1" id="qaelk">

<h1>QAELK</h1>

<p>Are Our Tests Any Good?</p>




</article>
<article class="slide level-2" id="roadmap">

<h2>Roadmap</h2>

<ul class="simple">
<li>Problems with testing at Puppet</li>
<li>Why we built QAELK</li>
<li>What QAELK is</li>
<li>How we're using QAELK</li>
<li>Demo</li>
<li>Goals | dreams | next year's disappointments</li>
</ul>




</article>
<article class="slide level-2" id="whoami">

<h2>$whoami</h2>

<div class="build figure align-left">
<a class="reference internal image-reference" href="images/koalaty-assurance.jpg"><img alt="images/koalaty-assurance.jpg" src="images/koalaty-assurance.jpg" style="height: 250px;" /></a>
</div>
<div class="build figure align-center">
<a class="reference internal image-reference" href="images/hacking.gif"><img alt="images/hacking.gif" src="images/hacking.gif" style="height: 250px;" /></a>
</div>
<p>Lucy Wyman | Zach Reichert</p>
<p>Software Developers in Test</p>
<p>Puppet</p>




</article>
<article class="slide level-2" id="thesis">

<h2>Thesis</h2>

<p>You can use data about your tests to improve your test suites.</p>




</article>
<article class="slide level-2" id="testing-at-puppet">

<h2>Testing At Puppet</h2>

<p class="build">Too many...</p>
<ul class="build simple">
<li>Pipelines</li>
<li>Supported platforms</li>
<li>Configurations</li>
<li>Jenkins restarts</li>
<li>Difficult to keep track of what tests ran, when, and why</li>
</ul>
<div class="build figure align-center">
<a class="reference internal image-reference" href="images/limes.jpg"><img alt="images/limes.jpg" src="images/limes.jpg" style="height: 250px;" /></a>
</div>




</article>
<article class="slide level-2" id="why-we-made-qaelk">

<h2>Why We Made QAELK</h2>

<p>We had a lot of questions...</p>
<ul class="build simple">
<li><strong>Are our tests providing value?</strong></li>
<li>What makes a test valuable?</li>
<li>Which tests tell us our code is broken?</li>
<li>Can a test that never fails provide value?</li>
<li><strong>Are our tests worth the cost of running them?</strong></li>
<li>Why is grafana so terrible?</li>
</ul>




</article>
<article class="slide level-2" id="what-is-qaelk">

<h2>What is QAELK?</h2>

<p>&quot;Quality Assurance ElasticSearch Logstash Kibana(Grafana)&quot;</p>
<ul class="build simple">
<li><strong>A dashboard for aggregating and visualizing data about our acceptance testing</strong></li>
<li><dl class="first docutils">
<dt>Helps us make data-informed decisions based on:</dt>
<dd><ul class="first last">
<li>Test duration</li>
<li>Test flakiness</li>
<li>Test failure rate</li>
<li>And more!</li>
</ul>
</dd>
</dl>
</li>
</ul>




</article>
<article class="slide level-2" id="qaelk-phase-1">

<h2>QAELK phase 1</h2>

<p>First attempt at testing metrics in CI based on ELK</p>
<ul class="build simple">
<li>Aggregated acceptance testing results</li>
<li>Learning things about how our tests run in CI</li>
<li>Keep acceptance testing valuable</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>We chose ELK bc oss, others where using in house</li>
<li>Elastic Search: No SQL database</li>
<li>Logstash: server-side data processing pipeline</li>
<li>Kibana/Grafana: Visualization tool often used for Analytics and Monitoring</li>
<li><dl class="first docutils">
<dt>In the end ELK/G was the wrong tool for the job</dt>
<dd><ol class="first last loweralpha">
<li>Logstash is optimized for performance not accuracy</li>
<li>The questions we are trying to answer are not Analytics or Monitoring</li>
</ol>
</dd>
</dl>
</li>
</ol>
</div>




</article>
<article class="slide level-2" id="qaelk-phase-2">

<h2>QAELK phase 2</h2>

<p>Replace the stack</p>
<ul class="build simple">
<li><a class="reference external" href="https://cloud.google.com/bigquery/">Google BigQuery</a> (replaces ElasticSearch)</li>
<li>Custom Application <a class="reference external" href="http://muppet.wikia.com/wiki/Dr._Teeth">Dr. Teeth</a> (replaces Logstash)</li>
<li><a class="reference external" href="https://looker.com">Looker</a> (replaces Kibana/Grafana)</li>
<li>Maybe we should call it &quot;QABqDrThL&quot; ¯\_(ツ)_/¯</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Better BC:
BQ: provides a SQL interface which I find more appealing to work with
DrTH: Our custom application is built to be more testable
Looker: Used by other organizations at Puppet</p>
</div>




</article>
<article class="slide level-2" id="decoupling-ourselves-from-specific-testing-tools">

<h2>Decoupling ourselves from specific testing tools</h2>

<ul class="build simple">
<li>Tracking test results from all the tools</li>
<li>Only dependency is that your tool produces JUNIT.xml</li>
<li>Concepts that are not part of the JUNIT.xml are communicated via query params</li>
</ul>




</article>
<article class="slide level-2" id="benefits-of-the-new-stack">

<h2>Benefits of the new stack</h2>

<ul class="build simple">
<li>Custom dashboards built in Looker</li>
<li>Specific 'Looks' shipped to confluence</li>
<li>Specific 'Looks' shipped to teams via email</li>
<li>Querying with SQL is a fallback for those on the bleeding edge</li>
</ul>




</article>
<article class="slide level-2" id="how-we-use-qaelk">

<h2>How We Use QAELK</h2>

<ul class="build simple">
<li>Identify most expensive tests</li>
<li>Identify flaky tests</li>
<li>See failure history of tests</li>
</ul>




</article>
<article class="slide level-1" id="demo">

<h1>Demo</h1>





</article>
<article class="slide level-2" id="what-s-next">

<h2>What's Next?</h2>

<p>Go beyond our proof of concept</p>
<ul class="build simple">
<li>Polish what we have</li>
<li>Find the edges of what is possible with our current stack</li>
<li>Make our data more accurate</li>
<li>Integrate with existing tools at puppet that identify transient errors</li>
</ul>




</article>
<article class="slide level-1" id="questions">

<h1>Questions?</h1>





</article>
<article class="slide level-1" id="thank-you">

<h1>Thank you!</h1>





</article>

</section>

<section id="slide_notes">

</section>

  </body>
</html>
